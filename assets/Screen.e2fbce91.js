import{o as Yt,r as Ke,e as $t,f as jt}from"./index.aa897cf5.js";var ce={exports:{}};ce.exports=ot;ce.exports.addWheelListener=ot;ce.exports.removeWheelListener=Kt;function ot(r,t,n){r.addEventListener("wheel",t,n)}function Kt(r,t,n){r.removeEventListener("wheel",t,n)}var fe={exports:{}},Ut=4,Ht=.001,Gt=1e-7,Jt=10,G=11,ie=1/(G-1),Qt=typeof Float32Array=="function";function it(r,t){return 1-3*t+3*r}function ut(r,t){return 3*t-6*r}function ct(r){return 3*r}function ue(r,t,n){return((it(t,n)*r+ut(t,n))*r+ct(t))*r}function ft(r,t,n){return 3*it(t,n)*r*r+2*ut(t,n)*r+ct(t)}function Xt(r,t,n,c,l){var f,o,d=0;do o=t+(n-t)/2,f=ue(o,c,l)-r,f>0?n=o:t=o;while(Math.abs(f)>Gt&&++d<Jt);return o}function er(r,t,n,c){for(var l=0;l<Ut;++l){var f=ft(t,n,c);if(f===0)return t;var o=ue(t,n,c)-r;t-=o/f}return t}function tr(r){return r}var rr=function(t,n,c,l){if(!(0<=t&&t<=1&&0<=c&&c<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&c===l)return tr;for(var f=Qt?new Float32Array(G):new Array(G),o=0;o<G;++o)f[o]=ue(o*ie,t,c);function d(h){for(var s=0,v=1,w=G-1;v!==w&&f[v]<=h;++v)s+=ie;--v;var b=(h-f[v])/(f[v+1]-f[v]),p=s+b*ie,T=ft(p,t,c);return T>=Ht?er(h,p,t,c):T===0?p:Xt(h,s,s+ie,t,c)}return function(s){return s===0?0:s===1?1:ue(d(s),n,l)}},H=rr,Ue={ease:H(.25,.1,.25,1),easeIn:H(.42,0,1,1),easeOut:H(0,0,.58,1),easeInOut:H(.42,0,.58,1),linear:H(0,0,1,1)};fe.exports=nr;fe.exports.makeAggregateRaf=lt;fe.exports.sharedScheduler=lt();function nr(r,t,n){var c=Object.create(null),l=Object.create(null);n=n||{};var f=typeof n.easing=="function"?n.easing:Ue[n.easing];f||(n.easing&&console.warn("Unknown easing function in amator: "+n.easing),f=Ue.ease);var o=typeof n.step=="function"?n.step:He,d=typeof n.done=="function"?n.done:He,h=ar(n.scheduler),s=Object.keys(t);s.forEach(function(x){c[x]=r[x],l[x]=t[x]-r[x]});var v=typeof n.duration=="number"?n.duration:400,w=Math.max(1,v*.06),b,p=0;return b=h.next(A),{cancel:T};function T(){h.cancel(b),b=0}function A(){var x=f(p/w);p+=1,B(x),p<=w?(b=h.next(A),o(r)):(b=0,setTimeout(function(){d(r)},0))}function B(x){s.forEach(function(I){r[I]=l[I]*x+c[I]})}}function He(){}function ar(r){if(!r){var t=typeof window!="undefined"&&window.requestAnimationFrame;return t?or():ir()}if(typeof r.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof r.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return r}function or(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function ir(){return{next:function(r){return setTimeout(r,1e3/60)},cancel:function(r){return clearTimeout(r)}}}function lt(){var r=new Set,t=new Set,n=0;return{next:l,cancel:l,clearAll:c};function c(){r.clear(),t.clear(),cancelAnimationFrame(n),n=0}function l(d){t.add(d),f()}function f(){n||(n=requestAnimationFrame(o))}function o(){n=0;var d=t;t=r,r=d,r.forEach(function(h){h()}),r.clear()}}var ur=function(t){fr(t);var n=cr(t);return t.on=n.on,t.off=n.off,t.fire=n.fire,t};function cr(r){var t=Object.create(null);return{on:function(n,c,l){if(typeof c!="function")throw new Error("callback is expected to be a function");var f=t[n];return f||(f=t[n]=[]),f.push({callback:c,ctx:l}),r},off:function(n,c){var l=typeof n=="undefined";if(l)return t=Object.create(null),r;if(t[n]){var f=typeof c!="function";if(f)delete t[n];else for(var o=t[n],d=0;d<o.length;++d)o[d].callback===c&&o.splice(d,1)}return r},fire:function(n){var c=t[n];if(!c)return r;var l;arguments.length>1&&(l=Array.prototype.splice.call(arguments,1));for(var f=0;f<c.length;++f){var o=c[f];o.callback.apply(o.ctx,l)}return r}}}function fr(r){if(!r)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(r.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}var lr=sr;function sr(r,t,n){typeof n!="object"&&(n={});var c=typeof n.minVelocity=="number"?n.minVelocity:5,l=typeof n.amplitude=="number"?n.amplitude:.25,f=typeof n.cancelAnimationFrame=="function"?n.cancelAnimationFrame:vr(),o=typeof n.requestAnimationFrame=="function"?n.requestAnimationFrame:mr(),d,h,s=342,v,w,b,p,T,A,B,x;return{start:L,stop:J,cancel:I};function I(){f(v),f(x)}function L(){d=r(),p=B=w=T=0,h=new Date,f(v),f(x),v=o($)}function $(){var D=Date.now(),Z=D-h;h=D;var M=r(),C=M.x-d.x,_=M.y-d.y;d=M;var E=1e3/(1+Z);w=.8*C*E+.2*w,T=.8*_*E+.2*T,v=o($)}function J(){f(v),f(x);var D=r();b=D.x,A=D.y,h=Date.now(),(w<-c||w>c)&&(p=l*w,b+=p),(T<-c||T>c)&&(B=l*T,A+=B),x=o(z)}function z(){var D=Date.now()-h,Z=!1,M=0,C=0;p&&(M=-p*Math.exp(-D/s),M>.5||M<-.5?Z=!0:M=p=0),B&&(C=-B*Math.exp(-D/s),C>.5||C<-.5?Z=!0:C=B=0),Z&&(t(b+M,A+C),x=o(z))}}function vr(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function mr(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(r){return setTimeout(r,16)}}var dr=hr;function hr(r){if(r)return{capture:Je,release:Je};var t,n,c,l=!1;return{capture:f,release:o};function f(d){l=!0,n=window.document.onselectstart,c=window.document.ondragstart,window.document.onselectstart=Ge,t=d,t.ondragstart=Ge}function o(){!l||(l=!1,window.document.onselectstart=n,t&&(t.ondragstart=c))}}function Ge(r){return r.stopPropagation(),!1}function Je(){}var pr=gr;function gr(){this.x=0,this.y=0,this.scale=1}var xe={exports:{}};xe.exports=yr;xe.exports.canAttach=st;function yr(r,t){if(!st(r))throw new Error("svg element is required for svg.panzoom to work");var n=r.ownerSVGElement;if(!n)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");t.disableKeyboardInteraction||n.setAttribute("tabindex",0);var c={getBBox:f,getScreenCTM:o,getOwner:l,applyTransform:h,initTransform:d};return c;function l(){return n}function f(){var s=r.getBBox();return{left:s.x,top:s.y,width:s.width,height:s.height}}function o(){var s=n.getCTM();return s||n.getScreenCTM()}function d(s){var v=r.getCTM();v===null&&(v=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),s.x=v.e,s.y=v.f,s.scale=v.a,n.removeAttributeNS(null,"viewBox")}function h(s){r.setAttribute("transform","matrix("+s.scale+" 0 0 "+s.scale+" "+s.x+" "+s.y+")")}}function st(r){return r&&r.ownerSVGElement&&r.getCTM}var be={exports:{}};be.exports=wr;be.exports.canAttach=vt;function wr(r,t){var n=vt(r);if(!n)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var c=r.parentElement;r.scrollTop=0,t.disableKeyboardInteraction||c.setAttribute("tabindex",0);var l={getBBox:o,getOwner:f,applyTransform:d};return l;function f(){return c}function o(){return{left:0,top:0,width:r.clientWidth,height:r.clientHeight}}function d(h){r.style.transformOrigin="0 0 0",r.style.transform="matrix("+h.scale+", 0, 0, "+h.scale+", "+h.x+", "+h.y+")"}}function vt(r){return r&&r.parentElement&&r.style}var Qe=ce.exports,ye=fe.exports,xr=ur,br=lr,mt=dr,Sr=mt(),Tr=mt(!0),Er=pr,Xe=xe.exports,et=be.exports,Mr=1,Cr=1.75,tt=300,rt=200,Ar=dt;function dt(r,t){t=t||{};var n=t.controller;if(n||(Xe.canAttach(r)?n=Xe(r,t):et.canAttach(r)&&(n=et(r,t))),!n)throw new Error("Cannot create panzoom for the current type of dom element");var c=n.getOwner(),l={x:0,y:0},f=!1,o=new Er;n.initTransform&&n.initTransform(o);var d=typeof t.filterKey=="function"?t.filterKey:Y,h=typeof t.pinchSpeed=="number"?t.pinchSpeed:1,s=t.bounds,v=typeof t.maxZoom=="number"?t.maxZoom:Number.POSITIVE_INFINITY,w=typeof t.minZoom=="number"?t.minZoom:0,b=typeof t.boundsPadding=="number"?t.boundsPadding:.05,p=typeof t.zoomDoubleClickSpeed=="number"?t.zoomDoubleClickSpeed:Cr,T=t.beforeWheel||Y,A=t.beforeMouseDown||Y,B=typeof t.zoomSpeed=="number"?t.zoomSpeed:Mr,x=nt(t.transformOrigin),I=t.enableTextSelection?Tr:Sr;Br(s),t.autocenter&&wt();var L,$=0,J=0,z=0,D=null,Z=new Date,M,C=!1,_=!1,E,k,le,se,ve,O;"smoothScroll"in t&&!t.smoothScroll?O=kr():O=br(kt,zt,t.smoothScroll);var me,j,Q,X=!1;Be();var ee={dispose:Zt,moveBy:R,moveTo:de,smoothMoveTo:Ft,centerOn:It,zoomTo:ae,zoomAbs:te,smoothZoom:ne,smoothZoomAbs:Vt,showRectangle:yt,pause:ht,resume:pt,isPaused:gt,getTransform:xt,getMinZoom:bt,setMinZoom:St,getMaxZoom:Tt,setMaxZoom:Et,getTransformOrigin:Mt,setTransformOrigin:Ct,getZoomSpeed:At,setZoomSpeed:Bt};xr(ee);var Se=typeof t.initialX=="number"?t.initialX:o.x,Te=typeof t.initialY=="number"?t.initialY:o.y,Ee=typeof t.initialZoom=="number"?t.initialZoom:o.scale;return(Se!=o.x||Te!=o.y||Ee!=o.scale)&&te(Se,Te,Ee),ee;function ht(){ke(),X=!0}function pt(){X&&(Be(),X=!1)}function gt(){return X}function yt(e){var a=c.getBoundingClientRect(),i=N(a.width,a.height),u=e.right-e.left,m=e.bottom-e.top;if(!Number.isFinite(u)||!Number.isFinite(m))throw new Error("Invalid rectangle");var g=i.x/u,y=i.y/m,S=Math.min(g,y);o.x=-(e.left+u/2)*S+i.x/2,o.y=-(e.top+m/2)*S+i.y/2,o.scale=S}function N(e,a){if(n.getScreenCTM){var i=n.getScreenCTM(),u=i.a,m=i.d,g=i.e,y=i.f;l.x=e*u-g,l.y=a*m-y}else l.x=e,l.y=a;return l}function wt(){var e,a,i=0,u=0,m=Ce();if(m)i=m.left,u=m.top,e=m.right-m.left,a=m.bottom-m.top;else{var g=c.getBoundingClientRect();e=g.width,a=g.height}var y=n.getBBox();if(!(y.width===0||y.height===0)){var S=a/y.height,V=e/y.width,P=Math.min(V,S);o.x=-(y.left+y.width/2)*P+e/2+i,o.y=-(y.top+y.height/2)*P+a/2+u,o.scale=P}}function xt(){return o}function bt(){return w}function St(e){w=e}function Tt(){return v}function Et(e){v=e}function Mt(){return x}function Ct(e){x=nt(e)}function At(){return B}function Bt(e){if(!Number.isFinite(e))throw new Error("Zoom speed should be a number");B=e}function kt(){return{x:o.x,y:o.y}}function de(e,a){o.x=e,o.y=a,he(),q("pan"),pe()}function Me(e,a){de(o.x+e,o.y+a)}function he(){var e=Ce();if(!!e){var a=!1,i=Dt(),u=e.left-i.right;return u>0&&(o.x+=u,a=!0),u=e.right-i.left,u<0&&(o.x+=u,a=!0),u=e.top-i.bottom,u>0&&(o.y+=u,a=!0),u=e.bottom-i.top,u<0&&(o.y+=u,a=!0),a}}function Ce(){if(!!s){if(typeof s=="boolean"){var e=c.getBoundingClientRect(),a=e.width,i=e.height;return{left:a*b,top:i*b,right:a*(1-b),bottom:i*(1-b)}}return s}}function Dt(){var e=n.getBBox(),a=Ot(e.left,e.top);return{left:a.x,top:a.y,right:e.width*o.scale+a.x,bottom:e.height*o.scale+a.y}}function Ot(e,a){return{x:e*o.scale+o.x,y:a*o.scale+o.y}}function pe(){f=!0,L=window.requestAnimationFrame(Lt)}function Ae(e,a,i){if(we(e)||we(a)||we(i))throw new Error("zoom requires valid numbers");var u=o.scale*i;if(u<w){if(o.scale===w)return;i=w/o.scale}if(u>v){if(o.scale===v)return;i=v/o.scale}var m=N(e,a);if(o.x=m.x-i*(m.x-o.x),o.y=m.y-i*(m.y-o.y),s&&b===1&&w===1)o.scale*=i,he();else{var g=he();g||(o.scale*=i)}q("zoom"),pe()}function te(e,a,i){var u=i/o.scale;Ae(e,a,u)}function It(e){var a=e.ownerSVGElement;if(!a)throw new Error("ui element is required to be within the scene");var i=e.getBoundingClientRect(),u=i.left+i.width/2,m=i.top+i.height/2,g=a.getBoundingClientRect(),y=g.width/2-u,S=g.height/2-m;R(y,S,!0)}function Ft(e,a){R(e-o.x,a-o.y,!0)}function R(e,a,i){if(!i)return Me(e,a);me&&me.cancel();var u={x:0,y:0},m={x:e,y:a},g=0,y=0;me=ye(u,m,{step:function(S){Me(S.x-g,S.y-y),g=S.x,y=S.y}})}function zt(e,a){oe(),de(e,a)}function Zt(){ke()}function Be(){c.addEventListener("mousedown",_e,{passive:!1}),c.addEventListener("dblclick",Le,{passive:!1}),c.addEventListener("touchstart",Oe,{passive:!1}),c.addEventListener("keydown",De,{passive:!1}),Qe.addWheelListener(c,Ve,{passive:!1}),pe()}function ke(){Qe.removeWheelListener(c,Ve),c.removeEventListener("mousedown",_e),c.removeEventListener("keydown",De),c.removeEventListener("dblclick",Le),c.removeEventListener("touchstart",Oe),L&&(window.cancelAnimationFrame(L),L=0),O.cancel(),Re(),qe(),I.release(),ge()}function Lt(){f&&_t()}function _t(){f=!1,n.applyTransform(o),q("transform"),L=0}function De(e){var a=0,i=0,u=0;if(e.keyCode===38?i=1:e.keyCode===40?i=-1:e.keyCode===37?a=1:e.keyCode===39?a=-1:e.keyCode===189||e.keyCode===109?u=1:(e.keyCode===187||e.keyCode===107)&&(u=-1),!d(e,a,i,u)){if(a||i){e.preventDefault(),e.stopPropagation();var m=c.getBoundingClientRect(),g=Math.min(m.width,m.height),y=.05,S=g*y*a,V=g*y*i;R(S,V)}if(u){var P=We(u*100),g=x?U():Nt();ae(g.x,g.y,P)}}}function Nt(){var e=c.getBoundingClientRect();return{x:e.width/2,y:e.height/2}}function Oe(e){if(Pt(e),K(),e.touches.length===1)return qt(e,e.touches[0]);e.touches.length===2&&(ve=Ze(e.touches[0],e.touches[1]),Q=!0,Ie())}function Pt(e){t.onTouch&&!t.onTouch(e)||(e.stopPropagation(),e.preventDefault())}function Rt(e){K(),!(t.onDoubleClick&&!t.onDoubleClick(e))&&(e.preventDefault(),e.stopPropagation())}function qt(e){J=new Date;var a=e.touches[0],i=F(a);M=i;var u=N(i.x,i.y);E=u.x,k=u.y,le=E,se=k,O.cancel(),Ie()}function Ie(){C||(C=!0,document.addEventListener("touchmove",Fe),document.addEventListener("touchend",re),document.addEventListener("touchcancel",re))}function Fe(e){if(e.touches.length===1){e.stopPropagation();var a=e.touches[0],i=F(a),u=N(i.x,i.y),m=u.x-E,g=u.y-k;m!==0&&g!==0&&Ye(),E=u.x,k=u.y,R(m,g)}else if(e.touches.length===2){Q=!0;var y=e.touches[0],S=e.touches[1],V=Ze(y,S),P=1+(V/ve-1)*h,$e=F(y),je=F(S);if(E=($e.x+je.x)/2,k=($e.y+je.y)/2,x){var i=U();E=i.x,k=i.y}ae(E,k,P),ve=V,e.stopPropagation(),e.preventDefault()}}function K(){z&&(clearTimeout(z),z=0)}function ze(e){if(!!t.onClick){K();var a=E-le,i=k-se,u=Math.sqrt(a*a+i*i);u>5||(z=setTimeout(function(){z=0,t.onClick(e)},tt))}}function re(e){if(K(),e.touches.length>0){var a=F(e.touches[0]),i=N(a.x,a.y);E=i.x,k=i.y}else{var u=new Date;if(u-$<tt)if(x){var a=U();ne(a.x,a.y,p)}else ne(M.x,M.y,p);else u-J<rt&&ze(e);$=u,ge(),qe()}}function Ze(e,a){var i=e.clientX-a.clientX,u=e.clientY-a.clientY;return Math.sqrt(i*i+u*u)}function Le(e){Rt(e);var a=F(e);x&&(a=U()),ne(a.x,a.y,p)}function _e(e){if(K(),!A(e)){if(D=e,Z=new Date,C)return e.stopPropagation(),!1;var a=e.button===1&&window.event!==null||e.button===0;if(!!a){O.cancel();var i=F(e),u=N(i.x,i.y);return le=E=u.x,se=k=u.y,document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",Pe),I.capture(e.target||e.srcElement),!1}}}function Ne(e){if(!C){Ye();var a=F(e),i=N(a.x,a.y),u=i.x-E,m=i.y-k;E=i.x,k=i.y,R(u,m)}}function Pe(){var e=new Date;e-Z<rt&&ze(D),I.release(),ge(),Re()}function Re(){document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",Pe),_=!1}function qe(){document.removeEventListener("touchmove",Fe),document.removeEventListener("touchend",re),document.removeEventListener("touchcancel",re),_=!1,Q=!1,C=!1}function Ve(e){if(!T(e)){O.cancel();var a=e.deltaY;e.deltaMode>0&&(a*=100);var i=We(a);if(i!==1){var u=x?U():F(e);ae(u.x,u.y,i),e.preventDefault()}}}function F(e){var a,i,u=c.getBoundingClientRect();return a=e.clientX-u.left,i=e.clientY-u.top,{x:a,y:i}}function ne(e,a,i){var u=o.scale,m={scale:u},g={scale:i*u};O.cancel(),oe(),j=ye(m,g,{step:function(y){te(e,a,y.scale)},done:Wt})}function Vt(e,a,i){var u=o.scale,m={scale:u},g={scale:i};O.cancel(),oe(),j=ye(m,g,{step:function(y){te(e,a,y.scale)}})}function U(){var e=c.getBoundingClientRect();return{x:e.width*x.x,y:e.height*x.y}}function ae(e,a,i){return O.cancel(),oe(),Ae(e,a,i)}function oe(){j&&(j.cancel(),j=null)}function We(e){var a=Math.sign(e),i=Math.min(.25,Math.abs(B*e/128));return 1-a*i}function Ye(){_||(q("panstart"),_=!0,O.start())}function ge(){_&&(Q||O.stop(),q("panend"))}function Wt(){q("zoomend")}function q(e){ee.fire(e,ee)}}function nt(r){if(!!r){if(typeof r=="object")return(!W(r.x)||!W(r.y))&&at(r),r;at()}}function at(r){throw console.error(r),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function Y(){}function Br(r){var t=typeof r;if(!(t==="undefined"||t==="boolean")){var n=W(r.left)&&W(r.top)&&W(r.bottom)&&W(r.right);if(!n)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function W(r){return Number.isFinite(r)}function we(r){return Number.isNaN?Number.isNaN(r):r!==r}function kr(){return{start:Y,stop:Y,cancel:Y}}function Dr(){if(typeof document=="undefined")return;var r=document.getElementsByTagName("script");if(!r)return;for(var t,n=0;n<r.length;++n){var c=r[n];if(c.src&&c.src.match(/\bpanzoom(\.min)?\.js/)){t=c;break}}if(!t)return;var l=t.getAttribute("query");if(!l)return;var f=t.getAttribute("name")||"pz",o=Date.now();d();function d(){var v=document.querySelector(l);if(!v){var w=Date.now(),b=w-o;if(b<2e3){setTimeout(d,100);return}console.error("Cannot find the panzoom element",f);return}var p=h(t);console.log(p),window[f]=dt(v,p)}function h(v){for(var w=v.attributes,b={},p=0;p<w.length;++p){var T=w[p],A=s(T);A&&(b[A.name]=A.value)}return b}function s(v){if(!!v.name){var w=v.name[0]==="p"&&v.name[1]==="z"&&v.name[2]==="-";if(!!w){var b=v.name.substr(3),p=JSON.parse(v.value);return{name:b,value:p}}}}}Dr();var Or=(r,t)=>{const n=r.__vccOpts||r;for(const[c,l]of t)n[c]=l;return n};const Ir={setup(r){Yt(()=>{window.customDispatchEvent=(l,f)=>{const o=new CustomEvent(l,{detail:f});document.dispatchEvent(o)},document.addEventListener("eval.display",l=>{c(l)})});const t=Ke(null),n=Ke(null),c=l=>{n.value&&(n.value.dispose(),n.value=null),t.value.textContent="",t.value.innerHTML=l.detail.content.outerHTML.replace('width="800" height="450"','width="100%" height="100%"');const f=document.querySelector("#group_scene");n.value=Ar(f)};return(l,f)=>($t(),jt("div",{class:"h-full max-w-full border-2 rounded-lg svg-container cursor-move",ref_key:"graphics",ref:t},null,512))}};var zr=Or(Ir,[["__scopeId","data-v-d1e6f76a"]]);export{zr as default};
