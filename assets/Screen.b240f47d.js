import{o as Yt,r as Ke,f as $t,h as jt}from"./index.5d4a62fb.js";var ce={exports:{}};ce.exports=at;ce.exports.addWheelListener=at;ce.exports.removeWheelListener=Kt;function at(r,t,n){r.addEventListener("wheel",t,n)}function Kt(r,t,n){r.removeEventListener("wheel",t,n)}var fe={exports:{}},Ut=4,Ht=.001,Gt=1e-7,Jt=10,G=11,ie=1/(G-1),Qt=typeof Float32Array=="function";function it(r,t){return 1-3*t+3*r}function ut(r,t){return 3*t-6*r}function ct(r){return 3*r}function ue(r,t,n){return((it(t,n)*r+ut(t,n))*r+ct(t))*r}function ft(r,t,n){return 3*it(t,n)*r*r+2*ut(t,n)*r+ct(t)}function Xt(r,t,n,c,l){var f,i,d=0;do i=t+(n-t)/2,f=ue(i,c,l)-r,f>0?n=i:t=i;while(Math.abs(f)>Gt&&++d<Jt);return i}function er(r,t,n,c){for(var l=0;l<Ut;++l){var f=ft(t,n,c);if(f===0)return t;var i=ue(t,n,c)-r;t-=i/f}return t}function tr(r){return r}var rr=function(t,n,c,l){if(!(0<=t&&t<=1&&0<=c&&c<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&c===l)return tr;for(var f=Qt?new Float32Array(G):new Array(G),i=0;i<G;++i)f[i]=ue(i*ie,t,c);function d(h){for(var s=0,v=1,w=G-1;v!==w&&f[v]<=h;++v)s+=ie;--v;var b=(h-f[v])/(f[v+1]-f[v]),p=s+b*ie,T=ft(p,t,c);return T>=Ht?er(h,p,t,c):T===0?p:Xt(h,s,s+ie,t,c)}return function(s){return s===0?0:s===1?1:ue(d(s),n,l)}},H=rr,Ue={ease:H(.25,.1,.25,1),easeIn:H(.42,0,1,1),easeOut:H(0,0,.58,1),easeInOut:H(.42,0,.58,1),linear:H(0,0,1,1)};fe.exports=nr;fe.exports.makeAggregateRaf=lt;fe.exports.sharedScheduler=lt();function nr(r,t,n){var c=Object.create(null),l=Object.create(null);n=n||{};var f=typeof n.easing=="function"?n.easing:Ue[n.easing];f||(n.easing&&console.warn("Unknown easing function in amator: "+n.easing),f=Ue.ease);var i=typeof n.step=="function"?n.step:He,d=typeof n.done=="function"?n.done:He,h=or(n.scheduler),s=Object.keys(t);s.forEach(function(x){c[x]=r[x],l[x]=t[x]-r[x]});var v=typeof n.duration=="number"?n.duration:400,w=Math.max(1,v*.06),b,p=0;return b=h.next(A),{cancel:T};function T(){h.cancel(b),b=0}function A(){var x=f(p/w);p+=1,B(x),p<=w?(b=h.next(A),i(r)):(b=0,setTimeout(function(){d(r)},0))}function B(x){s.forEach(function(I){r[I]=l[I]*x+c[I]})}}function He(){}function or(r){if(!r){var t=typeof window!="undefined"&&window.requestAnimationFrame;return t?ar():ir()}if(typeof r.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof r.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return r}function ar(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function ir(){return{next:function(r){return setTimeout(r,1e3/60)},cancel:function(r){return clearTimeout(r)}}}function lt(){var r=new Set,t=new Set,n=0;return{next:l,cancel:l,clearAll:c};function c(){r.clear(),t.clear(),cancelAnimationFrame(n),n=0}function l(d){t.add(d),f()}function f(){n||(n=requestAnimationFrame(i))}function i(){n=0;var d=t;t=r,r=d,r.forEach(function(h){h()}),r.clear()}}var ur=function(t){fr(t);var n=cr(t);return t.on=n.on,t.off=n.off,t.fire=n.fire,t};function cr(r){var t=Object.create(null);return{on:function(n,c,l){if(typeof c!="function")throw new Error("callback is expected to be a function");var f=t[n];return f||(f=t[n]=[]),f.push({callback:c,ctx:l}),r},off:function(n,c){var l=typeof n=="undefined";if(l)return t=Object.create(null),r;if(t[n]){var f=typeof c!="function";if(f)delete t[n];else for(var i=t[n],d=0;d<i.length;++d)i[d].callback===c&&i.splice(d,1)}return r},fire:function(n){var c=t[n];if(!c)return r;var l;arguments.length>1&&(l=Array.prototype.splice.call(arguments,1));for(var f=0;f<c.length;++f){var i=c[f];i.callback.apply(i.ctx,l)}return r}}}function fr(r){if(!r)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(r.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}var lr=sr;function sr(r,t,n){typeof n!="object"&&(n={});var c=typeof n.minVelocity=="number"?n.minVelocity:5,l=typeof n.amplitude=="number"?n.amplitude:.25,f=typeof n.cancelAnimationFrame=="function"?n.cancelAnimationFrame:vr(),i=typeof n.requestAnimationFrame=="function"?n.requestAnimationFrame:mr(),d,h,s=342,v,w,b,p,T,A,B,x;return{start:Z,stop:J,cancel:I};function I(){f(v),f(x)}function Z(){d=r(),p=B=w=T=0,h=new Date,f(v),f(x),v=i($)}function $(){var O=Date.now(),L=O-h;h=O;var M=r(),C=M.x-d.x,_=M.y-d.y;d=M;var E=1e3/(1+L);w=.8*C*E+.2*w,T=.8*_*E+.2*T,v=i($)}function J(){f(v),f(x);var O=r();b=O.x,A=O.y,h=Date.now(),(w<-c||w>c)&&(p=l*w,b+=p),(T<-c||T>c)&&(B=l*T,A+=B),x=i(z)}function z(){var O=Date.now()-h,L=!1,M=0,C=0;p&&(M=-p*Math.exp(-O/s),M>.5||M<-.5?L=!0:M=p=0),B&&(C=-B*Math.exp(-O/s),C>.5||C<-.5?L=!0:C=B=0),L&&(t(b+M,A+C),x=i(z))}}function vr(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function mr(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(r){return setTimeout(r,16)}}var dr=hr;function hr(r){if(r)return{capture:Je,release:Je};var t,n,c,l=!1;return{capture:f,release:i};function f(d){l=!0,n=window.document.onselectstart,c=window.document.ondragstart,window.document.onselectstart=Ge,t=d,t.ondragstart=Ge}function i(){!l||(l=!1,window.document.onselectstart=n,t&&(t.ondragstart=c))}}function Ge(r){return r.stopPropagation(),!1}function Je(){}var pr=gr;function gr(){this.x=0,this.y=0,this.scale=1}var xe={exports:{}};xe.exports=yr;xe.exports.canAttach=st;function yr(r,t){if(!st(r))throw new Error("svg element is required for svg.panzoom to work");var n=r.ownerSVGElement;if(!n)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");t.disableKeyboardInteraction||n.setAttribute("tabindex",0);var c={getBBox:f,getScreenCTM:i,getOwner:l,applyTransform:h,initTransform:d};return c;function l(){return n}function f(){var s=r.getBBox();return{left:s.x,top:s.y,width:s.width,height:s.height}}function i(){var s=n.getCTM();return s||n.getScreenCTM()}function d(s){var v=r.getCTM();v===null&&(v=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),s.x=v.e,s.y=v.f,s.scale=v.a,n.removeAttributeNS(null,"viewBox")}function h(s){r.setAttribute("transform","matrix("+s.scale+" 0 0 "+s.scale+" "+s.x+" "+s.y+")")}}function st(r){return r&&r.ownerSVGElement&&r.getCTM}var be={exports:{}};be.exports=wr;be.exports.canAttach=vt;function wr(r,t){var n=vt(r);if(!n)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var c=r.parentElement;r.scrollTop=0,t.disableKeyboardInteraction||c.setAttribute("tabindex",0);var l={getBBox:i,getOwner:f,applyTransform:d};return l;function f(){return c}function i(){return{left:0,top:0,width:r.clientWidth,height:r.clientHeight}}function d(h){r.style.transformOrigin="0 0 0",r.style.transform="matrix("+h.scale+", 0, 0, "+h.scale+", "+h.x+", "+h.y+")"}}function vt(r){return r&&r.parentElement&&r.style}var Qe=ce.exports,ye=fe.exports,xr=ur,br=lr,mt=dr,Sr=mt(),Tr=mt(!0),Er=pr,Xe=xe.exports,et=be.exports,Mr=1,Cr=1.75,tt=300,rt=200,Ar=dt;function dt(r,t){t=t||{};var n=t.controller;if(n||(Xe.canAttach(r)?n=Xe(r,t):et.canAttach(r)&&(n=et(r,t))),!n)throw new Error("Cannot create panzoom for the current type of dom element");var c=n.getOwner(),l={x:0,y:0},f=!1,i=new Er;n.initTransform&&n.initTransform(i);var d=typeof t.filterKey=="function"?t.filterKey:Y,h=typeof t.pinchSpeed=="number"?t.pinchSpeed:1,s=t.bounds,v=typeof t.maxZoom=="number"?t.maxZoom:Number.POSITIVE_INFINITY,w=typeof t.minZoom=="number"?t.minZoom:0,b=typeof t.boundsPadding=="number"?t.boundsPadding:.05,p=typeof t.zoomDoubleClickSpeed=="number"?t.zoomDoubleClickSpeed:Cr,T=t.beforeWheel||Y,A=t.beforeMouseDown||Y,B=typeof t.zoomSpeed=="number"?t.zoomSpeed:Mr,x=nt(t.transformOrigin),I=t.enableTextSelection?Tr:Sr;Br(s),t.autocenter&&wt();var Z,$=0,J=0,z=0,O=null,L=new Date,M,C=!1,_=!1,E,k,le,se,ve,D;"smoothScroll"in t&&!t.smoothScroll?D=kr():D=br(kt,zt,t.smoothScroll);var me,j,Q,X=!1;Be();var ee={dispose:Lt,moveBy:R,moveTo:de,smoothMoveTo:Ft,centerOn:It,zoomTo:oe,zoomAbs:te,smoothZoom:ne,smoothZoomAbs:Vt,showRectangle:yt,pause:ht,resume:pt,isPaused:gt,getTransform:xt,getMinZoom:bt,setMinZoom:St,getMaxZoom:Tt,setMaxZoom:Et,getTransformOrigin:Mt,setTransformOrigin:Ct,getZoomSpeed:At,setZoomSpeed:Bt};xr(ee);var Se=typeof t.initialX=="number"?t.initialX:i.x,Te=typeof t.initialY=="number"?t.initialY:i.y,Ee=typeof t.initialZoom=="number"?t.initialZoom:i.scale;return(Se!=i.x||Te!=i.y||Ee!=i.scale)&&te(Se,Te,Ee),ee;function ht(){ke(),X=!0}function pt(){X&&(Be(),X=!1)}function gt(){return X}function yt(e){var o=c.getBoundingClientRect(),a=N(o.width,o.height),u=e.right-e.left,m=e.bottom-e.top;if(!Number.isFinite(u)||!Number.isFinite(m))throw new Error("Invalid rectangle");var g=a.x/u,y=a.y/m,S=Math.min(g,y);i.x=-(e.left+u/2)*S+a.x/2,i.y=-(e.top+m/2)*S+a.y/2,i.scale=S}function N(e,o){if(n.getScreenCTM){var a=n.getScreenCTM(),u=a.a,m=a.d,g=a.e,y=a.f;l.x=e*u-g,l.y=o*m-y}else l.x=e,l.y=o;return l}function wt(){var e,o,a=0,u=0,m=Ce();if(m)a=m.left,u=m.top,e=m.right-m.left,o=m.bottom-m.top;else{var g=c.getBoundingClientRect();e=g.width,o=g.height}var y=n.getBBox();if(!(y.width===0||y.height===0)){var S=o/y.height,V=e/y.width,P=Math.min(V,S);i.x=-(y.left+y.width/2)*P+e/2+a,i.y=-(y.top+y.height/2)*P+o/2+u,i.scale=P}}function xt(){return i}function bt(){return w}function St(e){w=e}function Tt(){return v}function Et(e){v=e}function Mt(){return x}function Ct(e){x=nt(e)}function At(){return B}function Bt(e){if(!Number.isFinite(e))throw new Error("Zoom speed should be a number");B=e}function kt(){return{x:i.x,y:i.y}}function de(e,o){i.x=e,i.y=o,he(),q("pan"),pe()}function Me(e,o){de(i.x+e,i.y+o)}function he(){var e=Ce();if(!!e){var o=!1,a=Ot(),u=e.left-a.right;return u>0&&(i.x+=u,o=!0),u=e.right-a.left,u<0&&(i.x+=u,o=!0),u=e.top-a.bottom,u>0&&(i.y+=u,o=!0),u=e.bottom-a.top,u<0&&(i.y+=u,o=!0),o}}function Ce(){if(!!s){if(typeof s=="boolean"){var e=c.getBoundingClientRect(),o=e.width,a=e.height;return{left:o*b,top:a*b,right:o*(1-b),bottom:a*(1-b)}}return s}}function Ot(){var e=n.getBBox(),o=Dt(e.left,e.top);return{left:o.x,top:o.y,right:e.width*i.scale+o.x,bottom:e.height*i.scale+o.y}}function Dt(e,o){return{x:e*i.scale+i.x,y:o*i.scale+i.y}}function pe(){f=!0,Z=window.requestAnimationFrame(Zt)}function Ae(e,o,a){if(we(e)||we(o)||we(a))throw new Error("zoom requires valid numbers");var u=i.scale*a;if(u<w){if(i.scale===w)return;a=w/i.scale}if(u>v){if(i.scale===v)return;a=v/i.scale}var m=N(e,o);if(i.x=m.x-a*(m.x-i.x),i.y=m.y-a*(m.y-i.y),s&&b===1&&w===1)i.scale*=a,he();else{var g=he();g||(i.scale*=a)}q("zoom"),pe()}function te(e,o,a){var u=a/i.scale;Ae(e,o,u)}function It(e){var o=e.ownerSVGElement;if(!o)throw new Error("ui element is required to be within the scene");var a=e.getBoundingClientRect(),u=a.left+a.width/2,m=a.top+a.height/2,g=o.getBoundingClientRect(),y=g.width/2-u,S=g.height/2-m;R(y,S,!0)}function Ft(e,o){R(e-i.x,o-i.y,!0)}function R(e,o,a){if(!a)return Me(e,o);me&&me.cancel();var u={x:0,y:0},m={x:e,y:o},g=0,y=0;me=ye(u,m,{step:function(S){Me(S.x-g,S.y-y),g=S.x,y=S.y}})}function zt(e,o){ae(),de(e,o)}function Lt(){ke()}function Be(){c.addEventListener("mousedown",_e,{passive:!1}),c.addEventListener("dblclick",Ze,{passive:!1}),c.addEventListener("touchstart",De,{passive:!1}),c.addEventListener("keydown",Oe,{passive:!1}),Qe.addWheelListener(c,Ve,{passive:!1}),pe()}function ke(){Qe.removeWheelListener(c,Ve),c.removeEventListener("mousedown",_e),c.removeEventListener("keydown",Oe),c.removeEventListener("dblclick",Ze),c.removeEventListener("touchstart",De),Z&&(window.cancelAnimationFrame(Z),Z=0),D.cancel(),Re(),qe(),I.release(),ge()}function Zt(){f&&_t()}function _t(){f=!1,n.applyTransform(i),q("transform"),Z=0}function Oe(e){var o=0,a=0,u=0;if(e.keyCode===38?a=1:e.keyCode===40?a=-1:e.keyCode===37?o=1:e.keyCode===39?o=-1:e.keyCode===189||e.keyCode===109?u=1:(e.keyCode===187||e.keyCode===107)&&(u=-1),!d(e,o,a,u)){if(o||a){e.preventDefault(),e.stopPropagation();var m=c.getBoundingClientRect(),g=Math.min(m.width,m.height),y=.05,S=g*y*o,V=g*y*a;R(S,V)}if(u){var P=We(u*100),g=x?U():Nt();oe(g.x,g.y,P)}}}function Nt(){var e=c.getBoundingClientRect();return{x:e.width/2,y:e.height/2}}function De(e){if(Pt(e),K(),e.touches.length===1)return qt(e,e.touches[0]);e.touches.length===2&&(ve=Le(e.touches[0],e.touches[1]),Q=!0,Ie())}function Pt(e){t.onTouch&&!t.onTouch(e)||(e.stopPropagation(),e.preventDefault())}function Rt(e){K(),!(t.onDoubleClick&&!t.onDoubleClick(e))&&(e.preventDefault(),e.stopPropagation())}function qt(e){J=new Date;var o=e.touches[0],a=F(o);M=a;var u=N(a.x,a.y);E=u.x,k=u.y,le=E,se=k,D.cancel(),Ie()}function Ie(){C||(C=!0,document.addEventListener("touchmove",Fe),document.addEventListener("touchend",re),document.addEventListener("touchcancel",re))}function Fe(e){if(e.touches.length===1){e.stopPropagation();var o=e.touches[0],a=F(o),u=N(a.x,a.y),m=u.x-E,g=u.y-k;m!==0&&g!==0&&Ye(),E=u.x,k=u.y,R(m,g)}else if(e.touches.length===2){Q=!0;var y=e.touches[0],S=e.touches[1],V=Le(y,S),P=1+(V/ve-1)*h,$e=F(y),je=F(S);if(E=($e.x+je.x)/2,k=($e.y+je.y)/2,x){var a=U();E=a.x,k=a.y}oe(E,k,P),ve=V,e.stopPropagation(),e.preventDefault()}}function K(){z&&(clearTimeout(z),z=0)}function ze(e){if(!!t.onClick){K();var o=E-le,a=k-se,u=Math.sqrt(o*o+a*a);u>5||(z=setTimeout(function(){z=0,t.onClick(e)},tt))}}function re(e){if(K(),e.touches.length>0){var o=F(e.touches[0]),a=N(o.x,o.y);E=a.x,k=a.y}else{var u=new Date;if(u-$<tt)if(x){var o=U();ne(o.x,o.y,p)}else ne(M.x,M.y,p);else u-J<rt&&ze(e);$=u,ge(),qe()}}function Le(e,o){var a=e.clientX-o.clientX,u=e.clientY-o.clientY;return Math.sqrt(a*a+u*u)}function Ze(e){Rt(e);var o=F(e);x&&(o=U()),ne(o.x,o.y,p)}function _e(e){if(K(),!A(e)){if(O=e,L=new Date,C)return e.stopPropagation(),!1;var o=e.button===1&&window.event!==null||e.button===0;if(!!o){D.cancel();var a=F(e),u=N(a.x,a.y);return le=E=u.x,se=k=u.y,document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",Pe),I.capture(e.target||e.srcElement),!1}}}function Ne(e){if(!C){Ye();var o=F(e),a=N(o.x,o.y),u=a.x-E,m=a.y-k;E=a.x,k=a.y,R(u,m)}}function Pe(){var e=new Date;e-L<rt&&ze(O),I.release(),ge(),Re()}function Re(){document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",Pe),_=!1}function qe(){document.removeEventListener("touchmove",Fe),document.removeEventListener("touchend",re),document.removeEventListener("touchcancel",re),_=!1,Q=!1,C=!1}function Ve(e){if(!T(e)){D.cancel();var o=e.deltaY;e.deltaMode>0&&(o*=100);var a=We(o);if(a!==1){var u=x?U():F(e);oe(u.x,u.y,a),e.preventDefault()}}}function F(e){var o,a,u=c.getBoundingClientRect();return o=e.clientX-u.left,a=e.clientY-u.top,{x:o,y:a}}function ne(e,o,a){var u=i.scale,m={scale:u},g={scale:a*u};D.cancel(),ae(),j=ye(m,g,{step:function(y){te(e,o,y.scale)},done:Wt})}function Vt(e,o,a){var u=i.scale,m={scale:u},g={scale:a};D.cancel(),ae(),j=ye(m,g,{step:function(y){te(e,o,y.scale)}})}function U(){var e=c.getBoundingClientRect();return{x:e.width*x.x,y:e.height*x.y}}function oe(e,o,a){return D.cancel(),ae(),Ae(e,o,a)}function ae(){j&&(j.cancel(),j=null)}function We(e){var o=Math.sign(e),a=Math.min(.25,Math.abs(B*e/128));return 1-o*a}function Ye(){_||(q("panstart"),_=!0,D.start())}function ge(){_&&(Q||D.stop(),q("panend"))}function Wt(){q("zoomend")}function q(e){ee.fire(e,ee)}}function nt(r){if(!!r){if(typeof r=="object")return(!W(r.x)||!W(r.y))&&ot(r),r;ot()}}function ot(r){throw console.error(r),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function Y(){}function Br(r){var t=typeof r;if(!(t==="undefined"||t==="boolean")){var n=W(r.left)&&W(r.top)&&W(r.bottom)&&W(r.right);if(!n)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function W(r){return Number.isFinite(r)}function we(r){return Number.isNaN?Number.isNaN(r):r!==r}function kr(){return{start:Y,stop:Y,cancel:Y}}function Or(){if(typeof document=="undefined")return;var r=document.getElementsByTagName("script");if(!r)return;for(var t,n=0;n<r.length;++n){var c=r[n];if(c.src&&c.src.match(/\bpanzoom(\.min)?\.js/)){t=c;break}}if(!t)return;var l=t.getAttribute("query");if(!l)return;var f=t.getAttribute("name")||"pz",i=Date.now();d();function d(){var v=document.querySelector(l);if(!v){var w=Date.now(),b=w-i;if(b<2e3){setTimeout(d,100);return}console.error("Cannot find the panzoom element",f);return}var p=h(t);console.log(p),window[f]=dt(v,p)}function h(v){for(var w=v.attributes,b={},p=0;p<w.length;++p){var T=w[p],A=s(T);A&&(b[A.name]=A.value)}return b}function s(v){if(!!v.name){var w=v.name[0]==="p"&&v.name[1]==="z"&&v.name[2]==="-";if(!!w){var b=v.name.substr(3),p=JSON.parse(v.value);return{name:b,value:p}}}}}Or();var Dr=(r,t)=>{const n=r.__vccOpts||r;for(const[c,l]of t)n[c]=l;return n};const Ir={setup(r){Yt(()=>{document.addEventListener("eval.display",l=>{c(l)})});const t=Ke(null),n=Ke(null),c=l=>{n.value&&(n.value.dispose(),n.value=null),t.value.textContent="",console.log(l.detail.content.outerHTML),t.value.innerHTML=l.detail.content.outerHTML.replace('<svg xmlns="http://www.w3.org/2000/svg" width="800" height="450"','<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"');const f=document.querySelector("#group_scene");n.value=Ar(f)};return(l,f)=>($t(),jt("div",{class:"h-full max-w-full border-2 rounded-lg svg-container",ref_key:"graphics",ref:t},null,512))}};var zr=Dr(Ir,[["__scopeId","data-v-1d948eee"]]);export{zr as default};
